<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>í”„ë¡œí•„ ìˆ˜ì • | Dishcovery</title>
    <link rel="stylesheet" th:href="@{/css/mainPage.css}">
    <link rel="stylesheet" th:href="@{/css/board.css}">
</head>

<body>
<header class="topbar">
    <div th:insert="fragments/header :: site-header"></div>
</header>

<!-- ì „ì²´ ë ˆì´ì•„ì›ƒ ë™ì¼í•˜ê²Œ ìœ ì§€ -->
<main class="container">

    <!-- ì™¼ìª½ í”„ë¡œí•„ ì¹´ë“œ ê·¸ëŒ€ë¡œ ì‚¬ìš© -->
    <main class="board-container">

        <h1 class="board-title">ê²Œì‹œíŒ</h1>

        <div class="board-list">

            <div class="board-item">
                <div class="board-item-title">ë£°ë › ì¶”ì²œ ê¸°ëŠ¥ ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤</div>

                <div class="board-item-info">
                    <span>2025.01.15</span>
                    <span>ì¡°íšŒìˆ˜ 32</span>
                </div>

                <div class="board-item-actions">
                    <button class="comment-btn">
                        ğŸ’¬ ëŒ“ê¸€ 3
                    </button>
                </div>
            </div>

            <div class="board-item">
                <div class="board-item-title">ë ˆì‹œí”¼ ê²€ìƒ‰ì´ ì•ˆë¼ìš”</div>

                <div class="board-item-info">
                    <span>2025.01.14</span>
                    <span>ì¡°íšŒìˆ˜ 18</span>
                </div>

                <div class="board-item-actions">
                    <button class="comment-btn">
                        ğŸ’¬ ëŒ“ê¸€ 1
                    </button>
                </div>
            </div>

            <div class="board-item">
                <div class="board-item-title">ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ê¸°ì¤€ì´ ê¶ê¸ˆí•´ìš”</div>

                <div class="board-item-info">
                    <span>2025.01.13</span>
                    <span>ì¡°íšŒìˆ˜ 54</span>
                </div>

                <div class="board-item-actions">
                    <button class="comment-btn">
                        ğŸ’¬ ëŒ“ê¸€ 7
                    </button>
                </div>
            </div>

        </div>
    </main>

    <a href="/board/boardWrite" class="write-btn">+</a>

</main>

<script th:inline="javascript">
    /*<![CDATA[*/
    const errorMessage = [[${error}]];
    const successMessage = [[${success}]];

    if (errorMessage) {
        alert(errorMessage);
    }

    if (successMessage) {
        alert(successMessage);
    }
    /*]]>*/

    function validatePassword() {
        const currentPw = document.getElementById("currentPw").value.trim();
        const newPw = document.getElementById("newPw").value.trim();
        const newPwCheck = document.getElementById("newPwCheck").value.trim();

        if (!currentPw) {
            alert("í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return false;
        }

        if (newPw.length < 8 || newPw.length > 20) {
            alert("ìƒˆ ë¹„ë°€ë²ˆí˜¸ëŠ” 8~20ìì—¬ì•¼ í•©ë‹ˆë‹¤.");
            return false;
        }

        if (newPw !== newPwCheck) {
            alert("ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ì„œë¡œ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            return false;
        }

        if (currentPw === newPw) {
            alert("ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ë‹¤ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.");
            return false;
        }

        return true; // ì„œë²„ë¡œ ì œì¶œ
    }

    function previewProfileImage(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById("profilePreview").src = e.target.result;
                document.getElementById("sideProfilePreview").src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        }
    }

    function confirmLogout(){
        if(confirm("ì •ë§ ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ ?")){
            window.location.href = "/logout";
        }
    }

</script>


</body>
</html>
