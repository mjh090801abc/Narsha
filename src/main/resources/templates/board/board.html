<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>게시판 | Dishcovery</title>
    <link rel="stylesheet" th:href="@{/css/mainPage.css}">
    <link rel="stylesheet" th:href="@{/css/board.css}">
</head>

<body>
<header class="topbar">
    <div th:insert="fragments/header :: site-header"></div>
</header>

<main class="container">

    <main class="board-container">

        <h1 class="board-title">게시판</h1>

        <div class="board-list">

            <!-- DB에서 가져온 게시글 목록 -->
            <div class="board-item"
                 th:each="item : ${boardList}"
                 th:onclick="|location.href='/board/boardDetail?boardId=' + ${item.board.boardId}|">

                <div class="board-item-title" th:text="${item.board.title}">제목</div>

                <div class="board-item-info">
                    <span th:text="${#temporals.format(item.board.createdAt, 'yyyy.MM.dd')}">2025.01.15</span>
                    <span>조회수 <span th:text="${item.board.viewCount}">0</span></span>
                </div>

                <div class="board-item-actions">
                    <button class="comment-btn">
                        💬 댓글 <span th:text="${item.commentCount}">0</span>
                    </button>
                </div>
            </div>

        </div>
    </main>

    <a href="/board/boardWrite" class="write-btn">+</a>

</main>

<script th:inline="javascript">
    /*<![CDATA[*/
    const errorMessage = [[${error}]];
    const successMessage = [[${success}]];

    if (errorMessage) {
        alert(errorMessage);
    }

    if (successMessage) {
        alert(successMessage);
    }
    /*]]>*/

    function confirmLogout(){
        if(confirm("정말 로그아웃 하시겠습니까 ?")){
            window.location.href = "/logout";
        }
    }

</script>

</body>
</html>